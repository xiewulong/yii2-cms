{"version":3,"sources":["user.js","form.js"],"names":["$","window","document","undefined","on","$this","this","parents","removeClass","end","ajax","url","attr","data","csrf","method","success","d","error","console","message","location","reload","jQuery","e","$modal","modal","text","target","$fieldset","find","prop","User","password_old","value","password","password_repeat","focus","dataType","alert","Radio","$target","unsupportList","defaultValue","staticSelect","parentItems","parentItemsValue","_classCallCheck","$formGroups","$static","val","init","_createClass","key","events","switch","_this","unsupports","itemValue","html","show","length","filter","join","hide","fn","radioFormSwitch","formSwitch","type","$doc","Selection","button","$button","$formGroup","$label","$hidden","$name","_value","getData","next","parent","toggleClass","hasClass","name","setValue","clearAll","close","setData","_this2","_render","list","loaded","items","item","i","len","hasSub","children","push","id","_this3","prevAll"],"mappings":"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","file":"backend.min.js","sourcesContent":["/*!\n * user\n * xiewulong <xiewulong@vip.qq.com>\n * create: 2016/8/8\n * since: 0.0.1\n */\n\n// logout\n(($, window, document, undefined) => {\n\n\t$(document).on('click', '[data-user=logout] a.text', function() {\n\t\tlet $this = $(this).parents('.dropdown-open').removeClass('dropdown-open').end();\n\n\t\t$.ajax({\n\t\t\turl: $this.attr('href'),\n\t\t\tdata: $.csrf(),\n\t\t\tmethod: 'post',\n\t\t\tsuccess: (d) => {\n\t\t\t\tif(d.error) {\n\t\t\t\t\tconsole.error(d.message);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t});\n\n\t\treturn false;\n\t});\n\n})(jQuery, window, document);\n\n// password reset\n(($, window, document, undefined) => {\n\n\t$(document).on('click', '[data-password=reset] a.text', function(e) {\n\t\tlet $this\t= $(this).parents('.dropdown-open').removeClass('dropdown-open').end(),\n\t\t\t$modal\t= $.modal(\t'<div class=\"modal fade\">' +\n\t\t\t\t\t\t\t\t\t'<div class=\"modal-dialog\">' +\n\t\t\t\t\t\t\t\t\t\t'<form class=\"modal-content form-horizontal\">' +\n\t\t\t\t\t\t\t\t\t\t\t'<fieldset>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"modal-header\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<h5 class=\"modal-title\">' + $this.text() + '</h5>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"modal-body\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"form-group\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<label class=\"col-sm-3 control-label\" for=\"password-old\">原密码</label>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"col-sm-6\"><input type=\"password\" name=\"password_old\" id=\"password-old\" class=\"form-control\" autofocus=\"autofocus\" /></div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"form-group\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<label class=\"col-sm-3 control-label\" for=\"password\">新密码</label>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"col-sm-6\"><input type=\"password\" name=\"password\" id=\"password\" class=\"form-control\" /></div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"form-group\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<label class=\"col-sm-3 control-label\" for=\"password-repeat\">确认新密码</label>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"col-sm-6\"><input type=\"password\" name=\"password_repeat\" id=\"password-repeat\" class=\"form-control\" /></div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'<div class=\"modal-footer\">' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">取消</button>' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<button type=\"submit\" class=\"btn btn-primary\">确定</button>' +\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t\t\t'</fieldset>' +\n\t\t\t\t\t\t\t\t\t\t'</form>' +\n\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t'</div>');\n\n\t\t$modal.on('submit', 'form', function() {\n\t\t\tlet target, error,\n\t\t\t\t$fieldset\t= $(this).find('fieldset').prop('disabled', true),\n\t\t\t\tUser\t\t= {\n\t\t\t\t\tpassword_old: this.password_old.value,\n\t\t\t\t\tpassword: this.password.value,\n\t\t\t\t\tpassword_repeat: this.password_repeat.value,\n\t\t\t\t};\n\n\t\t\tif(User.password_old == '') {\n\t\t\t\ttarget = this.password_old;\n\t\t\t\terror = '请输入原密码';\n\t\t\t} else if(User.password == '') {\n\t\t\t\ttarget = this.password;\n\t\t\t\tthis.password.focus();\n\t\t\t\terror = '请输入新密码';\n\t\t\t} else if(User.password_repeat == '') {\n\t\t\t\ttarget = this.password_repeat;\n\t\t\t\terror = '请确认新密码';\n\t\t\t} else if(User.password != User.password_repeat) {\n\t\t\t\ttarget = this.password_repeat;\n\t\t\t\terror = '两次输入的新密码不一致';\n\t\t\t}\n\t\t\tif(error) {\n\t\t\t\t$fieldset.prop('disabled', false);\n\t\t\t\ttarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$.ajax({\n\t\t\t\turl: $this.attr('href'),\n\t\t\t\tdata: $.csrf({User: User}),\n\t\t\t\tmethod: 'post',\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: (d) => {\n\t\t\t\t\td.error ? $fieldset.prop('disabled', false) : $modal.modal('hide');\n\t\t\t\t\t$.alert(d.message, d.error);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\n\t\treturn false;\n\t});\n\n})(jQuery, window, document);\n","/*!\n * form\n * xiewulong <xiewulong@vip.qq.com>\n * create: 2016/8/8\n * since: 0.0.1\n */\n\n// switch\n(($, undefined) => {\n\n\tclass Radio {\n\n\t\tconstructor($target, unsupportList, defaultValue, staticSelect, parentItems, parentItemsValue) {\n\t\t\tthis.$target = $target;\n\t\t\tthis.unsupportList = unsupportList;\n\t\t\tthis.value = defaultValue;\n\t\t\tthis.parentItems = parentItems;\n\t\t\tthis.parentItemsValue = parentItemsValue;\n\t\t\tthis.$formGroups = $('.form-group');\n\t\t\tif(staticSelect) {\n\t\t\t\tthis.$static = $(staticSelect);\n\t\t\t\tthis.value = this.value == '' ? this.$target.val() : this.value;\n\t\t\t}\n\n\t\t\treturn this.init();\n\t\t}\n\n\t\tinit() {\n\t\t\tthis.events();\n\t\t\tthis.switch();\n\n\t\t\treturn this.$target;\n\t\t}\n\n\t\tevents() {\n\t\t\tlet _this = this;\n\t\t\tthis.$target.on('change', function() {\n\t\t\t\t_this.value = this.value;\n\t\t\t\t_this.switch();\n\t\t\t});\n\t\t}\n\n\t\tswitch() {\n\t\t\tlet unsupports, itemValue, itemName;\n\t\t\tif(this.$static) {\n\t\t\t\titemValue = this.parentItems[this.value];\n\t\t\t\tthis.$static.html(this.parentItemsValue[itemValue] || '');\n\t\t\t\tthis.value = itemValue;\n\t\t\t}\n\t\t\tunsupports\t= this.unsupportList[this.value] || [];\n\t\t\tthis.$formGroups.show();\n\t\t\tif(!unsupports.length) return;\n\t\t\tthis.$formGroups.filter('.' + unsupports.join(', .')).hide();\n\t\t}\n\n\t}\n\n\t$.fn.radioFormSwitch = function(unsupportList, defaultValue, staticSelect, parentItems, parentItemsValue) {\n\t\treturn new Radio(this, unsupportList, defaultValue, staticSelect, parentItems, parentItemsValue);\n\t};\n\n\t$.fn.formSwitch = function(unsupportList, defaultValue, staticSelect, parentItems, parentItemsValue) {\n\t\tlet type = this.attr('data-form-switch');\n\n\t\tif(this[type + 'FormSwitch']) {\n\t\t\treturn this[type + 'FormSwitch'](unsupportList, defaultValue, staticSelect, parentItems, parentItemsValue);\n\t\t}\n\n\t\treturn this;\n\t};\n\n})(jQuery);\n\n// data selection\n(($, document, undefined) => {\n\tlet $doc\t\t= $(document);\n\n\tclass Selection {\n\n\t\tconstructor(button) {\n\t\t\tthis.$button\t= $(button);\n\t\t\tthis.$formGroup\t= this.$button.parents('.form-group');\n\t\t\tthis.$label\t\t= this.$formGroup.find('label');\n\t\t\tthis.$hidden\t= this.$formGroup.find('input[type=hidden]');\n\t\t\tthis.$name\t\t= this.$formGroup.find('span');\n\t\t\tthis.url\t\t= this.$button.attr('data-form-selection');\n\t\t\tthis._value\t\t= this.$hidden.val();\n\n\t\t\treturn this.init();\n\t\t}\n\n\t\tinit() {\n\t\t\tthis.getData();\n\t\t\tthis.modal();\n\t\t\tthis.events();\n\n\t\t\treturn;\n\t\t}\n\n\t\tevents() {\n\t\t\tlet _this\t= this;\n\t\t\tthis.$modal.on('click', 'ul li p', function() {\n\t\t\t\tlet $this\t= $(this);\n\t\t\t\tif($this.next('ul').length) {\n\t\t\t\t\t$this.parent('li').toggleClass('unfold');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif($this.hasClass('active')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t_this.value = $this.attr('data-id');\n\t\t\t\t_this.name = $this.attr('data-name');\n\t\t\t\t_this.setValue();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tthis.$name.on('click', 'i', function() {\n\t\t\t\t_this.clearAll();\n\t\t\t});\n\t\t}\n\n\t\tsetValue() {\n\t\t\tthis.$hidden.val(this.value);\n\t\t\tthis.$name.html((this.$button.attr('data-form-selected-clear') ? '<i class=\"glyphicon glyphicon-remove\" data-form-selected=\"clear\"></i>' : '') + this.name);\n\t\t\tthis.close();\n\t\t}\n\n\t\tclose() {\n\t\t\tthis.$modal.modal('hide');\n\t\t}\n\n\t\tmodal() {\n\t\t\tlet html =\t'<div class=\"modal fade\">' +\n\t\t\t\t\t\t\t'<div class=\"modal-dialog\">' +\n\t\t\t\t\t\t\t\t'<div class=\"modal-content\">' +\n\t\t\t\t\t\t\t\t\t'<div class=\"modal-header\">' +\n\t\t\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\n\t\t\t\t\t\t\t\t\t\t'<h5 class=\"modal-title\">' + this.$label.text() + '</h5>' +\n\t\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t\t\t'<div class=\"modal-body admin-selection admin-loading\"></div>' +\n\t\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'</div>';\n\t\t\tthis.$modal = $.modal(html);\n\t\t\tthis.setData();\n\t\t}\n\n\t\tsetData() {\n\t\t\tlet _render, list,\n\t\t\t\t_this\t= this;\n\t\t\tif(this.loaded || !this.data) return;\n\t\t\tthis.loaded = true;\n\t\t\tlist = (_render = (items) => {\n\t\t\t\tlet item,\n\t\t\t\t\ti\t\t= 0,\n\t\t\t\t\tlen\t\t= items.length,\n\t\t\t\t\thtml\t= ['<ul>'];\n\t\t\t\tfor(; i < len; i++) {\n\t\t\t\t\tlet hasSub;\n\t\t\t\t\titem = items[i];\n\t\t\t\t\thasSub = item.children || item.items;\n\t\t\t\t\thtml.push('<li><p' + (!hasSub && this._value && item.id == this._value ? ' class=\"active\"' : '') + ' data-id=\"' + item.id + '\" data-name=\"' + item.name + '\">' + (hasSub ? '<i class=\"glyphicon glyphicon-triangle-bottom\"></i>' : '') + item.name + '</p>');\n\t\t\t\t\titem.children && html.push(_render(item.children));\n\t\t\t\t\titem.items && html.push(_render(item.items));\n\t\t\t\t\thtml.push('</li>');\n\t\t\t\t}\n\t\t\t\thtml.push('</ul>');\n\t\t\t\treturn html.join('');\n\t\t\t})(this.data);\n\t\t\tthis.$modal.find('.admin-loading').removeClass('admin-loading').html(list);\n\t\t}\n\n\t\tgetData() {\n\t\t\t$.ajax({\n\t\t\t\turl: this.url,\n\t\t\t\tdata: {},\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: (d) => {\n\t\t\t\t\tif(d.error) {\n\t\t\t\t\t\t$.alert(d.message);\n\t\t\t\t\t}\n\t\t\t\t\tthis.data = d.data;\n\t\t\t\t\tthis.setData();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\t$doc.on('click', '[data-form-selection]', function() {\n\t\tnew Selection(this);\n\t}).on('click', '[data-form-selected=clear]', function() {\n\t\tlet $this\t= $(this);\n\t\t$this.parent('.selection-name').html('').prevAll('input[type=hidden]').val('');\n\t});\n})(jQuery, document);\n"],"sourceRoot":"/source/"}