/*!
 * frontend minify
 * xiewulong <xiewulong@vip.qq.com>
 * create: 2016/8/8
 * since: 0.0.1
 */
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();!function(t,e){var i=function(){function i(e,s){return _classCallCheck(this,i),s=s||{},this.carousel=e,this.$carousel=t(this.carousel),this.$items=this.$carousel.find("li"),this.len=this.$items.length,this.height=this.$carousel.height(),this.index=+this.$carousel.attr("data-index")||s.index||0,this.duration=+this.$carousel.attr("data-duration")||s.duration||400,this.interval=+this.$carousel.attr("data-interval")||s.interval||3e3,this.current=+this.$carousel.attr("data-current")||s.current||"x-icons-carousel-panel-current",this.panels=+this.$carousel.attr("data-panels")||s.panels||1,this.control=+this.$carousel.attr("data-control")||s.control||0,this.$title=t(this.$carousel.attr("data-title-target")||s.titleTarget),this.$desc=t(this.$carousel.attr("data-desc-target")||s.descTarget),this.init()}return _createClass(i,[{key:"init",value:function(){return this.len<2?void this.$items.show():(this.reset(),this.create(),this.events(),void this.run(this.index,!0))}},{key:"events",value:function(){var e=this;this.$carousel.on("mouseenter",function(){e.pause()}).on("mouseleave",function(){e.unpause()}).on("mouseenter","ol li",function(){e.run(+t(this).attr("data-index"))}).on("click",".x-icons-carousel-prev",function(){e.run(-1)}).on("click",".x-icons-carousel-next",function(){e.run()})}},{key:"unpause",value:function(){this.paused=!1,this.continue()}},{key:"pause",value:function(){this.clear(),this.paused=!0}},{key:"run",value:function(i,s){var n=void 0,a=void 0,r=i===e?this.index+1:i<0?this.index-1:i;(s||r!=this.index)&&(this.clear(),r=(r+this.len)%this.len,n=this.$items.eq(this.index),a=this.$items.eq(r),s?(this.$items.hide(),n.show()):(n.stop(!0).fadeOut(this.duration,function(){t(this).hide()}),a.stop(!0).fadeIn(this.duration),this.panels&&this.$panels.eq(this.index).removeClass(this.current)),this.panels&&this.$panels.eq(r).addClass(this.current),this.$title&&this.$title.html(a.attr("data-title")),this.$desc&&this.$desc.html(a.attr("data-desc")),this.index=r,this.continue())}},{key:"continue",value:function(){var t=this;this.paused||(this.timer=setTimeout(function(){t.run()},this.interval))}},{key:"clear",value:function(){clearTimeout(this.timer)}},{key:"create",value:function(){var e=[];this.panels&&(e.push("<ol>"),this.$items.each(function(t){e.push('<li class="x-icons x-icons-carousel-panel" data-index="'+t+'"></li>')}),e.push("</ol>"),this.$panels=t(e.join("")).appendTo(this.$carousel).find("li"),this.control&&this.$carousel.append('<a href="javascript:;" class="control x-icons x-icons-carousel-prev"></a><a href="javascript:;" class="control x-icons x-icons-carousel-next"></a>'))}},{key:"reset",value:function(){var t=this.$carousel.find(".carousel");t.length&&(this.$carousel=t)}}]),i}();t.fn.carousel=function(t){return this.each(function(){new i(this,t)})}}(jQuery),function(t,e,i){var s=function(){function e(i){return _classCallCheck(this,e),this.button=i,this.$button=t(this.button),this.$img=this.$button.attr("data-captcha-img")?t(this.$button.attr("data-captcha-img")):this.$button,this.url=this.$button.attr("data-captcha"),this.init()}return _createClass(e,[{key:"init",value:function(){return this.refresh(),!1}},{key:"refresh",value:function(){var e=this;t.ajax({url:this.url,data:{refresh:1},method:"get",dataType:"json",success:function(t){t.url&&e.src(t.url)}})}},{key:"src",value:function(t){this.$img.attr("src",t)}}]),e}();t(e).on("click","[data-captcha]",function(){return new s(this)})}(jQuery,document);
//# sourceMappingURL=frontend.min.js.map
